{
    "openapi": "3.0.1",
    "info": {
        "title": "S3 File Upload API",
        "version": "2024-02-20"
    },
    "servers": [
        {
            "url": "https://txlkoteyb9.execute-api.us-east-1.amazonaws.com/initial",
            "description": "API Gateway endpoint"
        }
    ],
    "paths": {
        "/{bucket}/{filename}": {
            "put": {
                "parameters": [
                    {
                        "name": "bucket",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "filename",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "200 response",
                        "headers": {
                            "Access-Control-Allow-Origin": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "Access-Control-Allow-Methods": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "Access-Control-Allow-Headers": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "x-amazon-apigateway-integration": {
                    "credentials": "arn:aws:iam::012693954776:role/file-upload-gwapi-role",
                    "uri": "arn:aws:apigateway:us-east-1:s3:path/{bucket}/{filename}",
                    "responses": {
                        "default": {
                            "statusCode": "200",
                            "responseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'https://s3fileupload.dk0ld3ltqxcqs.amplifyapp.com'",
                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,PUT'",
                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'"
                            }
                        }
                    },
                    "requestParameters": {
                        "integration.request.path.bucket": "method.request.path.bucket",
                        "integration.request.path.filename": "method.request.path.filename"
                    },
                    "passthroughBehavior": "when_no_match",
                    "httpMethod": "PUT",
                    "type": "aws"
                }
            },
            "options": {
                "responses": {
                    "200": {
                        "description": "200 response",
                        "headers": {
                            "Access-Control-Allow-Origin": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "Access-Control-Allow-Methods": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "Access-Control-Allow-Headers": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "x-amazon-apigateway-integration": {
                    "responses": {
                        "default": {
                            "statusCode": "200",
                            "responseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'https://s3fileupload.dk0ld3ltqxcqs.amplifyapp.com'",
                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,PUT'",
                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,Origin'"
                            }
                        }
                    },
                    "requestTemplates": {
                        "application/json": "{\"statusCode\": 200}"
                    },
                    "passthroughBehavior": "when_no_match",
                    "type": "mock"
                }
            }
        }
    },
    "x-amazon-apigateway-binary-media-types": [
        "*/*"
    ]
}
